{
    "Logging": {
        "LogLevel": {
            "Default": "Information",
            "Microsoft.AspNetCore": "Warning",
            "Yarp": "Information"
        }
    },
    "Serilog": {
        "MinimumLevel": {
            "Default": "Information",
            "Override": {
                "Microsoft": "Warning",
                "System": "Warning"
            }
        }
    },
    "Jwt": {
        "Authority": "http://localhost:5001",
        "Issuer": "loyaltyforge",
        "Audience": "loyaltyforge-api"
    },
    "IpRateLimiting": {
        "EnableEndpointRateLimiting": true,
        "StackBlockedRequests": false,
        "RealIpHeader": "X-Real-IP",
        "ClientIdHeader": "X-ClientId",
        "HttpStatusCode": 429,
        "GeneralRules": [
            {
                "Endpoint": "*",
                "Period": "1m",
                "Limit": 100
            },
            {
                "Endpoint": "*",
                "Period": "1h",
                "Limit": 1000
            }
        ]
    },
    "ReverseProxy": {
        "Routes": {
            "auth-route": {
                "ClusterId": "auth-cluster",
                "Match": {
                    "Path": "/api/auth/{**catch-all}"
                }
            },
            "tenants-route": {
                "ClusterId": "auth-cluster",
                "Match": {
                    "Path": "/api/tenants/{**catch-all}"
                }
            },
            "webhooks-route": {
                "ClusterId": "ecommerce-cluster",
                "Match": {
                    "Path": "/api/webhooks/{**catch-all}"
                }
            },
            "points-route": {
                "ClusterId": "points-cluster",
                "Match": {
                    "Path": "/api/tenants/{tenantId}/customers/{customerId}/points/{**catch-all}"
                }
            },
            "rewards-route": {
                "ClusterId": "rewards-cluster",
                "Match": {
                    "Path": "/api/tenants/{tenantId}/rewards/{**catch-all}"
                }
            },
            "redemptions-route": {
                "ClusterId": "rewards-cluster",
                "Match": {
                    "Path": "/api/tenants/{tenantId}/redemptions/{**catch-all}"
                }
            }
        },
        "Clusters": {
            "auth-cluster": {
                "Destinations": {
                    "destination1": {
                        "Address": "http://localhost:5001/"
                    }
                }
            },
            "ecommerce-cluster": {
                "Destinations": {
                    "destination1": {
                        "Address": "http://localhost:5002/"
                    }
                }
            },
            "points-cluster": {
                "Destinations": {
                    "destination1": {
                        "Address": "http://localhost:5003/"
                    }
                }
            },
            "rewards-cluster": {
                "Destinations": {
                    "destination1": {
                        "Address": "http://localhost:5004/"
                    }
                }
            }
        }
    },
    "AllowedHosts": "*"
}